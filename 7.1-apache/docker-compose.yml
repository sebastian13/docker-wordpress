# To use with Jwilders Nginx Proxy
# and Separate MariaDB Container

version: '3'

services:
  wordpress:
    image: plocek/wordpress:php7.1-apache
    restart: always
    volumes:
      - ./wp-content/:/var/www/html/wp-content
    environment:
      # Wordpress Variables
      WORDPRESS_DB_HOST: mariadb
      WORDPRESS_DB_NAME: name
      WORDPRESS_DB_USER: user
      WORDPRESS_DB_PASSWORD: password
      # Jwilder's Nginx Variables
      VIRTUAL_HOST: example.com
      VIRTUAL_NETWORK: www-network
      VIRTUAL_PORT: 80
      HTTPS_METHOD: noredirect
    networks:
      - proxy-tier

# Use an existing network
networks:
  proxy-tier:
    external:
      name: www-network